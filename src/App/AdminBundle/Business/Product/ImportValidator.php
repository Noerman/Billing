<?phpnamespace App\AdminBundle\Business\Product;use App\AdminBundle\Business;class ImportValidator{    public $container;    public function __construct($container)    {        $this->container = $container;    }    public function loadExisting($repository, $field)    {        $map = array();        $result = $this->container->get('doctrine')->getRepository($repository)->findAll();        $getMethod = 'get' . ucfirst($field);        foreach ($result as $r) {            $map[$r->$getMethod()] = 1;        }        return $map;    }    public function initialize()    {    }    public function validate($field, $value, &$errors)    {        switch ($field) {            case 'stock':                if (!is_numeric($value)) {                    $errors[] = 'Stock should be integer value, "' . $value . '" given.';                }                break;        }    }}