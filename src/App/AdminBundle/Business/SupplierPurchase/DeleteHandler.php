<?phpnamespace App\AdminBundle\Business\SupplierPurchase;use App\AdminBundle\Business\Base\BaseDeleteHandler;use App\ClientBundle\Entity;class DeleteHandler extends BaseDeleteHandler{    public function execute()    {        $model = $this->getModel();        $em = $this->container->get('doctrine')->getEntityManager();        $files = $em->getRepository('AppClientBundle:SupplierPurchaseFile')->findByIdPurchase($model['id']);        foreach($files as $file)        {            unlink($this->container->getParameter('supplier_upload_dir') . '/' . $file->getFile());            $em->remove($file);        }        $em->flush();        $this->helperDoctrine->deleteOneById('AppClientBundle:SupplierPurchase', $model['id']);    }}