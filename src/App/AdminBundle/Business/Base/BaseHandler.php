<?phpnamespace App\AdminBundle\Business\Base;use Symfony\Component\Form\Form;abstract class BaseHandler{    protected $container;    protected $entityManager;    protected $doctrine;    protected $helperMapping;    protected $helperDoctrine;    protected $helperCommon;    protected $form;    protected $model;    protected $errors = array();    protected $messages = array();    public function __construct($container)    {        $this->container = $container;        $this->doctrine = $container->get('doctrine');        $this->helperMapping = $container->get('app_admin.helper.mapping');        $this->helperDoctrine = $container->get('app_admin.helper.doctrine');        $this->helperCommon = $container->get('app_admin.helper.common');        $this->entityManager = $this->doctrine->getEntityManager();    }    public function onSuccess()    {    }    public function onFailure()    {        $this->errors[] = 'Error!';        foreach ($this->getForm()->getErrors() as $key => $error) {            $template = $error->getMessageTemplate();            $parameters = $error->getMessageParameters();            foreach ($parameters as $var => $value) {                $template = str_replace($var, $value, $template);            }            $this->errors[] = $template;        }    }    /** @return Form */    public function getForm()    {        return $this->form;    }    public function getMessages()    {        return $this->messages;    }    public function getErrors()    {        return $this->errors;    }    abstract public function execute();    public function isAccept()    {        $request = $this->container->get('request');        if ($request->getMethod() == 'POST') {            return true;        }        return false;    }    public function removeEmpty($array)    {        return array_filter($array);    }}